import 'dart:async';
import 'dart:convert' as convert;
import 'package:frideos_core/frideos_core.dart';
import 'package:jocker_app/src/model/category.dart';
import '../model/question.dart';
import 'api_interface.dart';


class MockAPI implements QuestionAPI {
  @override
  Future<bool> getQuestions({StreamedList<Question> questions, int number, QuestionDifficult difficulty, int idCategory, QuestionType type})
  async {
    //const json = "{\"response_code\":0,\"results\":[{\"category\":\"General Knowledge\",\"type\":\"multiple\",\"difficulty\":\"easy\",\"question\":\"What is the largest organ of the human body?\",\"correct_answer\":\"Skin\",\"incorrect_answers\":[\"Heart\",\"large Intestine\",\"Liver\"]},{\"category\":\"Science: Mathematics\",\"type\":\"multiple\",\"difficulty\":\"easy\",\"question\":\"In Roman Numerals, what does XL equate to?\",\"correct_answer\":\"40\",\"incorrect_answers\":[\"60\",\"15\",\"90\"]},{\"category\":\"Entertainment: Television\",\"type\":\"multiple\",\"difficulty\":\"easy\",\"question\":\"Grant Gustin plays which superhero on the CW show of the same name?\",\"correct_answer\":\"The Flash\",\"incorrect_answers\":[\"The Arrow\",\"Black Canary\",\"Daredevil\"]},{\"category\":\"Entertainment: Cartoon & Animations\",\"type\":\"multiple\",\"difficulty\":\"easy\",\"question\":\"In the 1993 Disney animated series, what is the name of Bonker\'s second partner?\",\"correct_answer\":\"Miranda Wright\",\"incorrect_answers\":[\"Dick Tracy\",\"Eddie Valiant\",\"Dr. Ludwig von Drake\"]},{\"category\":\"Geography\",\"type\":\"multiple\",\"difficulty\":\"easy\",\"question\":\"How many countries does Mexico border?\",\"correct_answer\":\"3\",\"incorrect_answers\":[\"2\",\"4\",\"1\"]}]}";

    const json = "{\"response_code\":0,\"results\":[{\"category\":\"Entertainment: Music\",\"type\":\"multiple\",\"difficulty\":\"medium\",\"question\":\"Who had hits in the 70s with the songs &quot;Lonely Boy&quot; and &quot;Never Let Her Slip Away&quot;?\",\"correct_answer\":\"Andrew Gold\",\"incorrect_answers\":[\"Elton John\",\"Leo Sayer\",\"Barry White \"]},{\"category\":\"Science: Computers\",\"type\":\"multiple\",\"difficulty\":\"easy\",\"question\":\"What does CPU stand for?\",\"correct_answer\":\"Central Processing Unit\",\"incorrect_answers\":[\"Central Process Unit\",\"Computer Personal Unit\",\"Central Processor Unit\"]},{\"category\":\"Science & Nature\",\"type\":\"multiple\",\"difficulty\":\"medium\",\"question\":\"How many degrees Fahrenheit is 100 degrees Celsius? \",\"correct_answer\":\"212\",\"incorrect_answers\":[\"326\",\"100\",\"451\"]},{\"category\":\"Entertainment: Television\",\"type\":\"multiple\",\"difficulty\":\"medium\",\"question\":\"Which of the following Autobot names in Michael Bay&#039;s movies was NOT a name for a Transformer in the original 1980&#039;s cartoon?\",\"correct_answer\":\"Mudflap\",\"incorrect_answers\":[\"Skids\",\"Sideswipe\",\"Ratchet\"]},{\"category\":\"History\",\"type\":\"multiple\",\"difficulty\":\"medium\",\"question\":\"Which of the following Assyrian kings did NOT rule during the Neo-Assyrian Empire?\",\"correct_answer\":\"Shamshi-Adad III\",\"incorrect_answers\":[\"Shalmaneser V\",\"Esharhaddon\",\"Ashur-nasir-pal II\"]},{\"category\":\"History\",\"type\":\"multiple\",\"difficulty\":\"medium\",\"question\":\"What year were the Marian Reforms instituted in the Roman Republic?\",\"correct_answer\":\"107 BCE\",\"incorrect_answers\":[\"42 BCE\",\"264 BCE\",\"102 CE\"]},{\"category\":\"Entertainment: Television\",\"type\":\"multiple\",\"difficulty\":\"medium\",\"question\":\"In the Netflix show, Stranger Things, what song would Will sing to himself as he was missing?\",\"correct_answer\":\"Should I Stay or Should I Go?\",\"incorrect_answers\":[\"Love Will Tear Us Apart\",\"This Charming Man\",\"Africa\"]},{\"category\":\"Entertainment: Film\",\"type\":\"multiple\",\"difficulty\":\"medium\",\"question\":\"Which animated film did Steven Lisberger direct in 1980 before going on to direct Tron?\",\"correct_answer\":\"Animalympics\",\"incorrect_answers\":[\"The Fox and the Hound\",\"The Black Cauldron\",\"The Great Mouse Detecive\"]},{\"category\":\"Science: Mathematics\",\"type\":\"multiple\",\"difficulty\":\"hard\",\"question\":\"What is the 100th digit of Pi?\",\"correct_answer\":\"9\",\"incorrect_answers\":[\"4\",\"7\",\"2\"]},{\"category\":\"Entertainment: Video Games\",\"type\":\"multiple\",\"difficulty\":\"medium\",\"question\":\"Which one of these was not a member of the Fiendish Five in the game Sly Cooper and the Thievius Raccoonus?\",\"correct_answer\":\"Dimitri Lousteau\",\"incorrect_answers\":[\"Mz. Ruby\",\"Muggshot\",\"Clockwerk\"]},{\"category\":\"Entertainment: Video Games\",\"type\":\"multiple\",\"difficulty\":\"medium\",\"question\":\"What is the full name of the protagonist from the indie adventure game &quot;Night in the Woods&quot;?\",\"correct_answer\":\"Margaret Borowski\",\"incorrect_answers\":[\"Marlena Woborski\",\"Milena Catharina\",\"Katia Managan\"]},{\"category\":\"Geography\",\"type\":\"multiple\",\"difficulty\":\"medium\",\"question\":\"Which of the following is NOT a capital city?\",\"correct_answer\":\"Sydney\",\"incorrect_answers\":[\"Cairo\",\"Moscow\",\"Beijing\"]}]}";
    final jsonResult = convert.jsonDecode(json);
    final result = (jsonResult['results'] as List).map((question) => QuestionModel.fromJson(question));
    questions.value = result.map((question) => Question.fromQuestionModel(question)).toList();
    return true;
  }

  @override
  Future<bool> getCategories(StreamedList<Category> categories) {
    // TODO: implement getCategories
    return null;
  }
}